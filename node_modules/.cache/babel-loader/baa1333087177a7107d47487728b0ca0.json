{"ast":null,"code":"var _jsxFileName = \"/home/dbws/projects/resume-maker/resume-react-ui/src/components/pages/price/stripeContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { GetPlanById } from \"../../../actions/price\";\nimport { connect } from \"react-redux\";\nimport CheckoutForm from \"./checkoutForm\";\nimport { Shimmer } from \"react-shimmer\";\nimport { getLocalStorageItem, setLocalStorageItem } from \"../../../utils/globals\";\nimport Auth from \"../../pages/Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PUBLIC_KEY = \"pk_test_51Ibt0LSAR6N0ZYR9TZFOOmIPz1IvJUNTeI6n9DsEHwVFUUINA3ekP0B7jdAMAlnBjK6UWblTMK2mL50Hkdb9c3Ns00BY6bIvJM\";\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\n\nconst Stripe = props => {\n  _s();\n\n  console.log(props);\n  const [planId, setPlanId] = useState(false);\n  const [planDetail, setPlanDetail] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n  useEffect(() => {\n    if (!getLocalStorageItem('userDetail')) {\n      localStorage.setItem(\"login_redirect\", window.location.href);\n      setShowLogin(true);\n      return;\n    }\n\n    if (props.location.search.split('=')[1]) {\n      setPlanId(props.location.search.split('=')[1]);\n    } else {\n      if (typeof window !== 'undefined') {\n        window.location.href = '/';\n      }\n    }\n  }, []);\n  useEffect(() => {\n    props.GetPlanById(planId ? planId : props.location.search.split('=')[1], localStorage.getItem('currencyType'));\n  }, [props.GetPlanById]);\n  useEffect(() => {\n    setPlanDetail(props.planDetail);\n  }, [props.planDetail]);\n\n  if (props.loading) {\n    return /*#__PURE__*/_jsxDEV(Shimmer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"container align-items-center mt-5 pt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Elements, {\n        stripe: stripeTestPromise,\n        children: /*#__PURE__*/_jsxDEV(CheckoutForm, {\n          planDetail: planDetail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), setShowLogin && /*#__PURE__*/_jsxDEV(Auth, {\n      showLogin: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Stripe, \"o8xoAS1/J9jh0hE4/ikuqkg1JdA=\");\n\n_c = Stripe;\n\nconst mapStateToProps = state => ({\n  planDetail: state.price.planDetail,\n  loading: state.price.plan_detail_loading\n});\n\nconst mapDispatchToProps = {\n  GetPlanById\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Stripe);\n\nvar _c;\n\n$RefreshReg$(_c, \"Stripe\");","map":{"version":3,"sources":["/home/dbws/projects/resume-maker/resume-react-ui/src/components/pages/price/stripeContainer.js"],"names":["React","useEffect","useState","loadStripe","Elements","GetPlanById","connect","CheckoutForm","Shimmer","getLocalStorageItem","setLocalStorageItem","Auth","PUBLIC_KEY","stripeTestPromise","Stripe","props","console","log","planId","setPlanId","planDetail","setPlanDetail","showLogin","setShowLogin","localStorage","setItem","window","location","href","search","split","getItem","loading","mapStateToProps","state","price","plan_detail_loading","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { GetPlanById } from \"../../../actions/price\";\nimport { connect } from \"react-redux\";\n\nimport  CheckoutForm  from \"./checkoutForm\";\nimport { Shimmer } from \"react-shimmer\";\nimport { getLocalStorageItem, setLocalStorageItem } from \"../../../utils/globals\";\nimport Auth from \"../../pages/Auth\";\n\nconst PUBLIC_KEY = \"pk_test_51Ibt0LSAR6N0ZYR9TZFOOmIPz1IvJUNTeI6n9DsEHwVFUUINA3ekP0B7jdAMAlnBjK6UWblTMK2mL50Hkdb9c3Ns00BY6bIvJM\";\n\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\n\nconst Stripe = (props) => {\n  console.log(props)\n  const [planId , setPlanId] = useState(false);  \n  const [planDetail , setPlanDetail] = useState(false);  \n  const [showLogin , setShowLogin] = useState(false);\n  useEffect(() => {\n      if(!getLocalStorageItem('userDetail')){ \n        localStorage.setItem(\"login_redirect\" , window.location.href);\n        setShowLogin(true);\n        return;\n      }\n      if(props.location.search.split('=')[1]){\n        setPlanId(props.location.search.split('=')[1]);    \n      } else {\n        if(typeof window !== 'undefined'){\n            window.location.href='/'\n        }\n      }\n  } , [])\n\n  useEffect(() => {\n    props.GetPlanById(planId ? planId : props.location.search.split('=')[1] , localStorage.getItem('currencyType'));\n  }, [props.GetPlanById])\n  \n\n\n  useEffect(() => {\n    setPlanDetail(props.planDetail)\n  }, [props.planDetail])\n\n  if(props.loading){\n      return (\n          <Shimmer />\n      )\n  }\n  return (\n    <section className=\"container align-items-center mt-5 pt-5\">\n        <div className=\"row\">\n\n          <Elements stripe={stripeTestPromise} >\n            <CheckoutForm planDetail = {planDetail} />\n          </Elements>\n        </div>\n        { setShowLogin && <Auth showLogin={true} />}\n    </section>\n  );\n};\n\nconst mapStateToProps = ( state ) => ( {\n    planDetail: state.price.planDetail,\n    loading : state.price.plan_detail_loading\n} );\n\nconst mapDispatchToProps = {\n    GetPlanById\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( Stripe );\n"]},"metadata":{},"sourceType":"module"}