{"ast":null,"code":"import { setAlert } from \"./alert\";\nimport API from \"../API\";\nimport { clearUserData } from '../utils/globals';\nexport const GetUserById = userId => dispatch => {\n  try {\n    dispatch({\n      type: \"USER_DETAIL_LOADING\",\n      data: {}\n    });\n    API.get('GetUserById', {}, userId, function (res) {\n      if (res && res.data) {\n        dispatch({\n          type: \"USER_DETAIL\",\n          data: res.data\n        });\n      } else {\n        console.log(res.data.message);\n        dispatch(setAlert(res.data.message, 'danger'));\n      }\n    });\n  } catch (err) {\n    console.log(err);\n    console.log(err);\n  }\n};\nexport const UpdateUserById = (userId, data) => dispatch => {\n  try {\n    dispatch({\n      type: \"UPDATING_USER\",\n      data: {}\n    });\n    API.patch('UpdateUserById', data, userId, function (res) {\n      if (res && res.data.email) {\n        dispatch({\n          type: \"USER_DETAIL\",\n          data: res.data\n        });\n        dispatch(setAlert(\"Details updated successfully\", 'success'));\n      } else {\n        console.log(res.data.message);\n        dispatch(setAlert(res.data.message, 'danger'));\n      }\n    });\n  } catch (err) {\n    console.log(err);\n    console.log(err);\n  }\n};\nexport const changePassword = data => dispatch => {\n  try {\n    dispatch({\n      type: \"UPDATING_USER\",\n      data: {}\n    });\n    API.post('changePassword', data, '', function (res) {\n      console.log(res, \"in change password\");\n\n      if (res && res.data.email) {\n        dispatch({\n          type: \"USER_DETAIL\",\n          data: res.data\n        });\n        dispatch(setAlert(\"Details updated successfully\", 'success'));\n      } else {\n        console.log(res.data.message);\n        dispatch(setAlert(res.data.message, 'danger'));\n      }\n    });\n  } catch (err) {\n    console.log(err);\n    console.log(err);\n  }\n};\nexport const changeEmail = data => dispatch => {\n  try {\n    dispatch({\n      type: \"UPDATING_USER\",\n      data: {}\n    });\n    API.post('changeEmail', data, '', function (res) {\n      console.log(res, \"in change password\");\n\n      if (res && res.data.email) {\n        dispatch({\n          type: \"USER_DETAIL\",\n          data: res.data\n        });\n        dispatch(setAlert(\"Details updated successfully\", 'success'));\n      } else {\n        console.log(res.data.message);\n        dispatch(setAlert(res.data.message, 'danger'));\n      }\n    });\n  } catch (err) {\n    console.log(err);\n    console.log(err);\n  }\n};\nexport const deleteMyAccount = userId => dispatch => {\n  try {\n    dispatch({\n      type: \"UPDATING_USER\",\n      data: {}\n    });\n    API.delete('DeleteAccount', {}, userId, function (res) {\n      console.log(res);\n\n      if (res && res.data && !res.data.message) {\n        dispatch({\n          type: \"USER_DETAIL\",\n          data: res.data\n        });\n        dispatch(setAlert(\"Account deleted successfully\", 'success'));\n        clearUserData();\n\n        if (typeof window !== 'undefined') {\n          window.location.href = \"/\";\n        }\n      } else {\n        console.log(res.data.message);\n        dispatch(setAlert(res.data.message, 'danger'));\n      }\n    });\n  } catch (err) {\n    console.log(err);\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["/home/dbws/projects/resume-maker/resume-react-ui/src/actions/user.js"],"names":["setAlert","API","clearUserData","GetUserById","userId","dispatch","type","data","get","res","console","log","message","err","UpdateUserById","patch","email","changePassword","post","changeEmail","deleteMyAccount","delete","window","location","href"],"mappings":"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","sourcesContent":["import { setAlert } from \"./alert\";\nimport API from \"../API\";\nimport { clearUserData } from '../utils/globals'\n\nexport const GetUserById = (userId) => dispatch =>{\n  try{\n      dispatch({\n          type : \"USER_DETAIL_LOADING\",\n          data : {}\n      })\n    API.get('GetUserById' , {}, userId , function(res){\n      \n      if(res && res.data){\n          dispatch( { type: \"USER_DETAIL\",\n            data : res.data\n          });\n        } else {\n            console.log(res.data.message);\n            dispatch(setAlert(res.data.message , 'danger'));    \n        }\n    })\n    \n  } catch (err) {\n    console.log(err)\n    console.log(err)\n  }\n}\n\nexport const UpdateUserById = (userId , data) => dispatch =>{\n    try{\n        dispatch({\n            type : \"UPDATING_USER\",\n            data : {}\n        })\n      API.patch('UpdateUserById' , data , userId , function(res){\n        \n        if(res && res.data.email) {\n            dispatch( { type: \"USER_DETAIL\",\n              data : res.data\n            });\n            dispatch(setAlert(\"Details updated successfully\" , 'success'));    \n          } else {\n              console.log(res.data.message);\n              dispatch(setAlert(res.data.message , 'danger'));    \n          }\n      })\n      \n    } catch (err) {\n      console.log(err)\n      console.log(err)\n    }\n  }\n  \n  export const changePassword = (data) => dispatch =>{\n    try{\n        dispatch({\n            type : \"UPDATING_USER\",\n            data : {}\n        })\n      API.post('changePassword' , data , '' , function(res){\n        console.log(res , \"in change password\");  \n        if(res && res.data.email) {\n            dispatch( { type: \"USER_DETAIL\",\n              data : res.data\n            });\n            dispatch(setAlert(\"Details updated successfully\" , 'success'));    \n          } else {\n              console.log(res.data.message);\n              dispatch(setAlert(res.data.message , 'danger'));    \n          }\n      })\n      \n    } catch (err) {\n      console.log(err)\n      console.log(err)\n    }\n  }\n\n  export const changeEmail = (data) => dispatch =>{\n    try{\n        dispatch({\n            type : \"UPDATING_USER\",\n            data : {}\n        })\n      API.post('changeEmail' , data , '' , function(res){\n        console.log(res , \"in change password\");  \n        if(res && res.data.email) {\n            dispatch( { type: \"USER_DETAIL\",\n              data : res.data\n            });\n            dispatch(setAlert(\"Details updated successfully\" , 'success'));    \n          } else {\n              console.log(res.data.message);\n              dispatch(setAlert(res.data.message , 'danger'));    \n          }\n      })\n      \n    } catch (err) {\n      console.log(err)\n      console.log(err)\n    }\n  }\n\n  export const deleteMyAccount = (userId) => dispatch =>{\n    try{\n        dispatch({\n            type : \"UPDATING_USER\",\n            data : {}\n        })\n      API.delete('DeleteAccount' , {} , userId , function(res){\n        console.log(res);\n        if(res && res.data && !res.data.message) {\n            dispatch( { type: \"USER_DETAIL\",\n                data : res.data\n              });\n            dispatch(setAlert(\"Account deleted successfully\" , 'success'));    \n            clearUserData();\n              if(typeof window !== 'undefined'){\n                window.location.href=\"/\";\n              }\n\n          } else {\n              console.log(res.data.message);\n              dispatch(setAlert(res.data.message , 'danger'));    \n          }\n      })\n      \n    } catch (err) {\n      console.log(err)\n      console.log(err)\n    }\n  }\n  \n  "]},"metadata":{},"sourceType":"module"}