{"ast":null,"code":"var _jsxFileName = \"/home/dbws/projects/resume-maker/resume-react-ui/src/components/pages/Home.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchData } from \"../../actions/home\";\nimport { checkLogin } from \"../../utils/globals\";\nimport TextEditor from \"../../components/widgets/TextEditor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super();\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.users && this.props.users.length <= 0) {\n      this.props.fetchData();\n    }\n  }\n\n  logout() {\n    if (typeof window !== 'undefined') {\n      window.localStorage.removeItem('userDetail');\n      window.location.href = '/';\n    }\n  }\n\n  render() {\n    const userDetails = checkLogin();\n    const {\n      users\n    } = this.props;\n\n    const getMyAccount = userDetails => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/my-account\",\n          children: [\"My Account (\", userDetails.user.first_name, \" \", userDetails.user.last_name, \") \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"link\",\n          onClick: () => this.logout(),\n          children: \" Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [userDetails ? getMyAccount(userDetails) : /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/auth\",\n        children: \"Get started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 60\n      }, this), users && users.length && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"User List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: users && users.length && users.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.first_name, \" \", item.email]\n        }, item.first_name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nHome.serverFetch = fetchData; // static declaration of data requirements\n\nconst mapStateToProps = state => ({\n  users: state.Home.users.results\n});\n\nconst mapDispatchToProps = {\n  fetchData\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/dbws/projects/resume-maker/resume-react-ui/src/components/pages/Home.js"],"names":["React","connect","fetchData","checkLogin","TextEditor","Home","Component","constructor","props","logout","bind","componentDidMount","users","length","window","localStorage","removeItem","location","href","render","userDetails","getMyAccount","user","first_name","last_name","map","item","email","serverFetch","mapStateToProps","state","results","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,UAAP,MAAuB,qCAAvB;;;AACA,MAAMC,IAAN,SAAmBL,KAAK,CAACM,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACH;;AACDC,EAAAA,iBAAiB,GAAI;AACjB,QAAK,KAAKH,KAAL,CAAWI,KAAX,IAAoB,KAAKJ,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,IAA2B,CAApD,EAAwD;AACpD,WAAKL,KAAL,CAAWN,SAAX;AACH;AACJ;;AAEDO,EAAAA,MAAM,GAAE;AACJ,QAAG,OAAOK,MAAP,KAAkB,WAArB,EAAiC;AAC7BA,MAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,YAA/B;AACAF,MAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH;AACJ;;AACDC,EAAAA,MAAM,GAAI;AACN,UAAMC,WAAW,GAAGjB,UAAU,EAA9B;AACA,UAAM;AAAES,MAAAA;AAAF,QAAY,KAAKJ,KAAvB;;AAEA,UAAMa,YAAY,GAAID,WAAD,IAAiB;AAClC,0BACI;AAAA,gCAEI;AAAG,UAAA,IAAI,EAAC,aAAR;AAAA,qCAAmCA,WAAW,CAACE,IAAZ,CAAiBC,UAApD,OAAiEH,WAAW,CAACE,IAAZ,CAAiBE,SAAlF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAM,UAAA,SAAS,EAAC,MAAhB;AAAuB,UAAA,OAAO,EAAE,MAAM,KAAKf,MAAL,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAOH,KARD;;AAUA,wBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,iBACKW,WAAW,GAAGC,YAAY,CAACD,WAAD,CAAf,gBAA+B;AAAG,QAAA,IAAI,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAD/C,EAEKR,KAAK,IAAIA,KAAK,CAACC,MAAf,iBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAF9B,eAGI;AAAA,kBACMD,KAAK,IAAIA,KAAK,CAACC,MAAf,IAAyBD,KAAK,CAACa,GAAN,CAAYC,IAAD,iBAClC;AAAA,qBAA+BA,IAAI,CAACH,UAApC,OAAmDG,IAAI,CAACC,KAAxD;AAAA,WAAUD,IAAI,CAACH,UAAf;AAAA;AAAA;AAAA;AAAA,gBADuB;AAD/B;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AA1C8B;;AA4CnClB,IAAI,CAACuB,WAAL,GAAmB1B,SAAnB,C,CAA8B;;AAE9B,MAAM2B,eAAe,GAAKC,KAAF,KAAe;AACnClB,EAAAA,KAAK,EAAEkB,KAAK,CAACzB,IAAN,CAAWO,KAAX,CAAiBmB;AADW,CAAf,CAAxB;;AAIA,MAAMC,kBAAkB,GAAG;AACvB9B,EAAAA;AADuB,CAA3B;AAIA,eAAeD,OAAO,CAAE4B,eAAF,EAAmBG,kBAAnB,CAAP,CAAgD3B,IAAhD,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchData } from \"../../actions/home\";\nimport { checkLogin } from \"../../utils/globals\";\nimport TextEditor from \"../../components/widgets/TextEditor\"\nclass Home extends React.Component {\n    constructor(props){\n        super();\n        this.logout = this.logout.bind(this);\n    }\n    componentDidMount( ) {\n        if ( this.props.users && this.props.users.length <= 0 ) {\n            this.props.fetchData();\n        }\n    }\n\n    logout(){\n        if(typeof window !== 'undefined'){\n            window.localStorage.removeItem('userDetail');\n            window.location.href = '/';\n        }\n    }\n    render( ) {\n        const userDetails = checkLogin();\n        const { users } = this.props;\n\n        const getMyAccount = (userDetails) => {\n            return (\n                <div>\n                    {/* <TextEditor /> */}\n                    <a href=\"/my-account\">My Account ({userDetails.user.first_name} {userDetails.user.last_name}) </a>\n                    <span className=\"link\" onClick={() => this.logout()}> Logout</span>\n                </div>\n            )\n        }\n\n        return (\n            <div className=\"wrapper\">\n                {userDetails ? getMyAccount(userDetails) : <a href=\"/auth\">Get started</a>}\n                {users && users.length && <h2>User List</h2>}\n                <ul>\n                    { users && users.length && users.map( (item ) => (\n                        <li key={ item.first_name } >{ item.first_name } { item.email }</li>\n                    ) ) }\n                </ul>\n            </div>\n        );\n    }\n}\nHome.serverFetch = fetchData; // static declaration of data requirements\n\nconst mapStateToProps = ( state ) => ( {\n    users: state.Home.users.results,\n} );\n\nconst mapDispatchToProps = {\n    fetchData,\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( Home );\n"]},"metadata":{},"sourceType":"module"}