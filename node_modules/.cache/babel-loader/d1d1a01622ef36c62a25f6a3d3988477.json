{"ast":null,"code":"import axios from 'axios';\nimport { BASE_URL, EndPoints } from './config';\n\nconst getLoggedInUserToken = () => {\n  return typeof localStorage !== 'undefined' && localStorage.getItem('userDetail') && JSON.parse(localStorage.getItem('userDetail')).tokens && JSON.parse(localStorage.getItem('userDetail')).tokens.access.token;\n};\n\nconst SECONDS = 30;\nconst MILISECONDS = 1000;\nconst TIMEOUT = SECONDS * MILISECONDS;\nconst instance = axios.create({\n  baseURL: BASE_URL,\n  timeout: TIMEOUT,\n  headers: {\n    'content-type': 'application/json',\n    'Authorization': 'Bearer ' + getLoggedInUserToken() //'content-type':'application/x-www-form-urlencoded'\n\n  }\n});\nconst API = {\n  get: (key, params = {}, id, cb) => {\n    const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n    return instance.get(url, {\n      params,\n      headers: {\n        'content-type': 'application/json',\n        'Authorization': 'Bearer ' + getLoggedInUserToken()\n      }\n    }).then(res => {\n      cb(res);\n    }).catch(err => {\n      cb(err.response);\n      console.log(err.response);\n    });\n    ;\n  },\n  post: (key, data = {}, id = '', cb) => {\n    const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n    console.log('POST', url);\n    return instance({\n      'method': 'POST',\n      'url': url,\n      'data': data,\n      headers: {\n        'content-type': 'application/json',\n        'Authorization': 'Bearer ' + getLoggedInUserToken()\n      }\n    }).then(res => {\n      cb(res);\n    }).catch(err => {\n      cb(err.response);\n      console.log(err.response);\n    });\n  },\n  patch: (key, data = {}, id = '', cb) => {\n    const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n    console.log('PATCH', url);\n    return instance({\n      'method': 'PATCH',\n      'url': url,\n      'data': data,\n      headers: {\n        'content-type': 'application/json',\n        'Authorization': 'Bearer ' + getLoggedInUserToken()\n      }\n    }).then(res => {\n      cb(res);\n    }).catch(err => {\n      cb(err.response);\n      console.log(err.response);\n    });\n  },\n  delete: (key, data = {}, id = '', cb) => {\n    const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n    console.log('delete', url);\n    return instance({\n      'method': 'DELETE',\n      'url': url,\n      'data': data,\n      headers: {\n        'content-type': 'application/json',\n        'Authorization': 'Bearer ' + getLoggedInUserToken()\n      }\n    }).then(res => {\n      cb(res);\n    }).catch(err => {\n      cb(err.response);\n      console.log(err.response);\n    });\n  } // get : function (key, params = {}){\n  //     return new Promise((resolve, reject) => {\n  //         this._get(key, params = {})\n  //         .then( data => resolve(data))\n  //         .catch( error => reject(error));\n  //     })\n  // },\n  // post : function (key, data = {}, id = ''){\n  //     return new Promise((resolve, reject) => {\n  //         this._post(key, data, id)\n  //         .then( data => resolve(data))\n  //         .catch( error => reject(error));\n  //     })\n  // }\n\n};\nexport default API;","map":{"version":3,"sources":["/home/dbws/projects/resume-maker/resume-react-ui/src/API/index.js"],"names":["axios","BASE_URL","EndPoints","getLoggedInUserToken","localStorage","getItem","JSON","parse","tokens","access","token","SECONDS","MILISECONDS","TIMEOUT","instance","create","baseURL","timeout","headers","API","get","key","params","id","cb","url","then","res","catch","err","response","console","log","post","data","patch","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { BASE_URL, EndPoints } from './config';\n\nconst getLoggedInUserToken = () => {\n    return typeof localStorage !== 'undefined' && localStorage.getItem('userDetail') && JSON.parse(localStorage.getItem('userDetail')).tokens && JSON.parse(localStorage.getItem('userDetail')).tokens.access.token;\n}\n\nconst SECONDS = 30;\nconst MILISECONDS = 1000;\nconst TIMEOUT = SECONDS * MILISECONDS;\n\nconst instance = axios.create({\n    baseURL: BASE_URL,\n    timeout: TIMEOUT,\n    headers: {\n        'content-type':'application/json',\n        'Authorization' : 'Bearer ' + getLoggedInUserToken()\n        //'content-type':'application/x-www-form-urlencoded'\n    },\n});\n\nconst API = {\n    get: (key, params = {}, id , cb) => {\n        const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n        return instance.get(url, {\n            params,\n            headers: {\n                'content-type':'application/json',\n                'Authorization' : 'Bearer ' + getLoggedInUserToken()\n            },\n        }).then(res => {\n            cb(res);\n        }).catch(err => {\n            cb(err.response);\n            console.log(err.response)\n        });;\n    },\n\n    post: (key, data = {}, id = '' , cb) => {\n        const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n        console.log('POST',url);\n        \n        return instance({\n            'method': 'POST',\n            'url': url,\n            'data': data,\n            headers: {\n                'content-type':'application/json',\n                'Authorization' : 'Bearer ' + getLoggedInUserToken()\n            },\n        }).then(res => {\n            cb(res);\n        }).catch(err => {\n            cb(err.response);\n\n            console.log(err.response)\n        });\n    },\n\n    patch: (key, data = {}, id = '', cb) => {\n        const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n        console.log('PATCH',url);\n        return instance({\n            'method': 'PATCH',\n            'url': url,\n            'data': data,\n            headers: {\n                'content-type':'application/json',\n                'Authorization' : 'Bearer ' + getLoggedInUserToken()\n            },\n        }).then(res => {\n            cb(res);\n        }).catch(err => {\n            cb(err.response);\n\n            console.log(err.response)\n        });\n    },\n\n    delete: (key, data = {}, id = '' , cb) => {\n        const url = EndPoints[key].url + (id ? `/${id}` : \"\");\n        console.log('delete',url);\n        return instance({\n            'method': 'DELETE',\n            'url': url,\n            'data': data,\n            headers: {\n                'content-type':'application/json',\n                'Authorization' : 'Bearer ' + getLoggedInUserToken()\n            },\n        }).then(res => {\n            cb(res);\n        }).catch(err => {\n            cb(err.response);\n\n            console.log(err.response)\n        });\n    },\n    // get : function (key, params = {}){\n    //     return new Promise((resolve, reject) => {\n    //         this._get(key, params = {})\n    //         .then( data => resolve(data))\n    //         .catch( error => reject(error));\n    //     })\n    // },\n\n    // post : function (key, data = {}, id = ''){\n    //     return new Promise((resolve, reject) => {\n    //         this._post(key, data, id)\n    //         .then( data => resolve(data))\n    //         .catch( error => reject(error));\n    //     })\n    // }\n\n};\nexport default API;"]},"metadata":{},"sourceType":"module"}