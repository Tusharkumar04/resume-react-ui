{"ast":null,"code":"var _jsxFileName = \"/home/dbws/projects/resume-maker/resume-react-ui/src/components/pages/price/stripeContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { GetPlanById } from \"../../../actions/price\";\nimport { connect } from \"react-redux\";\nimport CheckoutForm from \"./checkoutForm\";\nimport Shimmer from \"../../widgets/shimmerEffect\";\nimport { getLocalStorageItem, setLocalStorageItem } from \"../../../utils/globals\";\nimport Auth from \"../../pages/Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PUBLIC_KEY = \"pk_test_51Ibt0LSAR6N0ZYR9TZFOOmIPz1IvJUNTeI6n9DsEHwVFUUINA3ekP0B7jdAMAlnBjK6UWblTMK2mL50Hkdb9c3Ns00BY6bIvJM\";\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\n\nconst Stripe = props => {\n  _s();\n\n  const [planId, setPlanId] = useState(false);\n  const [planDetail, setPlanDetail] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n  useEffect(() => {\n    if (!getLocalStorageItem('userDetail').user) {\n      window.login_redirect = window.location.href ? window.location.href : \"lkjkjhjhj\";\n      setShowLogin(true);\n      return;\n    }\n\n    if (props.location.search.split('=')[1]) {\n      setPlanId(props.location.search.split('=')[1]);\n    } else {\n      if (typeof window !== 'undefined') {\n        window.location.href = '/';\n      }\n    }\n  }, []);\n  useEffect(() => {\n    props.GetPlanById(planId ? planId : props.location.search.split('=')[1], localStorage.getItem('currencyType'));\n  }, [props.GetPlanById]);\n  useEffect(() => {\n    setPlanDetail(props.planDetail);\n  }, [props.planDetail]);\n\n  if (props.loading) {\n    return /*#__PURE__*/_jsxDEV(Shimmer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"container align-items-center mt-5 pt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Elements, {\n        stripe: stripeTestPromise,\n        children: /*#__PURE__*/_jsxDEV(CheckoutForm, {\n          planDetail: planDetail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), showLogin && /*#__PURE__*/_jsxDEV(Auth, {\n      showLogin: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Stripe, \"o8xoAS1/J9jh0hE4/ikuqkg1JdA=\");\n\n_c = Stripe;\n\nconst mapStateToProps = state => ({\n  planDetail: state.price.planDetail,\n  loading: state.price.plan_detail_loading\n});\n\nconst mapDispatchToProps = {\n  GetPlanById\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Stripe);\n\nvar _c;\n\n$RefreshReg$(_c, \"Stripe\");","map":{"version":3,"sources":["/home/dbws/projects/resume-maker/resume-react-ui/src/components/pages/price/stripeContainer.js"],"names":["React","useEffect","useState","loadStripe","Elements","GetPlanById","connect","CheckoutForm","Shimmer","getLocalStorageItem","setLocalStorageItem","Auth","PUBLIC_KEY","stripeTestPromise","Stripe","props","planId","setPlanId","planDetail","setPlanDetail","showLogin","setShowLogin","user","window","login_redirect","location","href","search","split","localStorage","getItem","loading","mapStateToProps","state","price","plan_detail_loading","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { GetPlanById } from \"../../../actions/price\";\nimport { connect } from \"react-redux\";\n\nimport  CheckoutForm  from \"./checkoutForm\";\nimport  Shimmer  from \"../../widgets/shimmerEffect\";\nimport { getLocalStorageItem, setLocalStorageItem } from \"../../../utils/globals\";\nimport Auth from \"../../pages/Auth\";\n\nconst PUBLIC_KEY = \"pk_test_51Ibt0LSAR6N0ZYR9TZFOOmIPz1IvJUNTeI6n9DsEHwVFUUINA3ekP0B7jdAMAlnBjK6UWblTMK2mL50Hkdb9c3Ns00BY6bIvJM\";\n\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\n\nconst Stripe = (props) => {\n  const [planId , setPlanId] = useState(false);  \n  const [planDetail , setPlanDetail] = useState(false);  \n  const [showLogin , setShowLogin] = useState(false);\n  useEffect(() => {\n      if(!getLocalStorageItem('userDetail').user){ \n        window.login_redirect = window.location.href ? window.location.href : \"lkjkjhjhj\";\n        setShowLogin(true);\n        return;\n      }\n      if(props.location.search.split('=')[1]){\n        setPlanId(props.location.search.split('=')[1]);    \n      } else {\n        if(typeof window !== 'undefined'){\n            window.location.href='/'\n        }\n      }\n  } , [])\n\n  useEffect(() => {\n    props.GetPlanById(planId ? planId : props.location.search.split('=')[1] , localStorage.getItem('currencyType'));\n  }, [props.GetPlanById])\n  \n\n\n  useEffect(() => {\n    setPlanDetail(props.planDetail)\n  }, [props.planDetail])\n\n  if(props.loading){\n      return (\n          <Shimmer />\n      )\n  }\n  return (\n    <section className=\"container align-items-center mt-5 pt-5\">\n        <div className=\"row\">\n\n          <Elements stripe={stripeTestPromise} >\n            <CheckoutForm planDetail = {planDetail} />\n          </Elements>\n        </div>\n        { showLogin && <Auth showLogin={true} />}\n    </section>\n  );\n};\n\nconst mapStateToProps = ( state ) => ( {\n    planDetail: state.price.planDetail,\n    loading : state.price.plan_detail_loading\n} );\n\nconst mapDispatchToProps = {\n    GetPlanById\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( Stripe );\n"]},"metadata":{},"sourceType":"module"}